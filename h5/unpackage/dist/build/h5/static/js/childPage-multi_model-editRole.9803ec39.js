(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["childPage-multi_model-editRole"],{"0233":function(t,e,n){"use strict";var a=n("f9da"),i=n.n(a);i.a},"070e":function(t,e,n){"use strict";n.r(e);var a=n("137c"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},"137c":function(t,e,n){"use strict";(function(t){n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("d3b7"),n("159b");var a=n("2d63"),i={data:function(){return{log:t.baseImg+"/xcx/com/message_center/Frame%20427320411.png",ideaImg:t.baseImg+"/xcx/com/message_center/%E6%84%8F%E8%A7%81%E5%8F%8D%E9%A6%88.png",hisImg:t.baseImg+"/xcx/com/message_center/clock.png",role_code:"",content:"",placeholder:"在此给当前角色一个指令，你可以这样填：现在我们在模拟参加一个群聊，其中你扮演的角色是小文，请不要出现关于小文字样的内容，你是理性且稳重的。",active:0,roleList:[],roleName:"",role_type:0,role_name:"",model:"文心一言",count:3.6,untils:"1k token"}},onLoad:function(t){t.role_code&&(this.role_code=t.role_code),t.content&&(this.chat_cont=t.content)},onShow:function(){this.getModel()},methods:{getRoleDetail:function(){var t=this,e=this.role_code;(0,a.getRoleDetail)(e).then((function(e){2e4==e.code?t.roleList.forEach((function(n,a){t.content=e.data.covert_content,t.roleName=e.data.role_name,t.role_name=e.data.role_name,t.role_type=e.data.role_type,n.model_name==e.data.model&&(t.active=a,t.model=t.roleList[a].model,t.count=t.roleList[a].consume_points,t.untils=t.roleList[a].unit)})):t.$api.msg(e.msg)})).catch((function(t){}))},getModel:function(){var t=this;(0,a.getModel)().then((function(e){2e4==e.code?(t.roleList=e.data,t.getRoleDetail()):t.$api.msg(e.msg)})).catch((function(t){}))},toIdea:function(){uni.navigateTo({url:"/childPage/answer/answer"})},roleChange:function(t){this.active=t,this.model=this.roleList[t].model,this.count=this.roleList[t].consume_points,this.untils=this.roleList[t].unit},toHis:function(){uni.navigateTo({url:"/childPage/multi_model/history_model"})},submit:function(){var t=this;if(""==this.roleName)return this.$api.msg("请填写角色名称");if(""==this.content)return this.$api.msg("请填写角色提示词");var e={role_name:this.roleName,chat_type:this.roleList[this.active].chat_type,model:this.roleList[this.active].model_name,role_logo:this.roleList[this.active].logo,covert_content:this.content,role_code:this.role_code};(0,a.editChatRole)(e).then((function(e){2e4==e.code?(t.$api.msg("修改成功"),setTimeout((function(){uni.navigateTo({url:"/childPage/multi_model/multi_model_next?content="+t.chat_cont})}),1500)):t.$api.msg(e.msg)})).catch((function(t){}))},getImgUrl:function(e){return t.baseImg+"/"+e}}};e.default=i}).call(this,n("c8ba"))},"191b":function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-view[data-v-1ba40ab6], uni-scroll-view[data-v-1ba40ab6], uni-swiper-item[data-v-1ba40ab6]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-textarea[data-v-1ba40ab6]{border-radius:4px;background-color:#fff;position:relative;display:flex;flex-direction:row;flex:1;padding:9px}.u-textarea--radius[data-v-1ba40ab6]{border-radius:4px}.u-textarea--no-radius[data-v-1ba40ab6]{border-radius:0}.u-textarea--disabled[data-v-1ba40ab6]{background-color:#f5f7fa}.u-textarea__field[data-v-1ba40ab6]{flex:1;font-size:15px;color:#606266;width:100%}.u-textarea__count[data-v-1ba40ab6]{position:absolute;right:5px;bottom:2px;font-size:12px;color:#909193;background-color:#fff;padding:1px 4px}',""]),t.exports=e},"243c":function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=a(n("bed4")),o=a(n("0444")),r={name:"u--input",mixins:[uni.$u.mpMixin,o.default,uni.$u.mixin],components:{uvInput:i.default}};e.default=r},"4b38":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("uvInput",{attrs:{value:t.value,type:t.type,fixed:t.fixed,disabled:t.disabled,disabledColor:t.disabledColor,clearable:t.clearable,password:t.password,maxlength:t.maxlength,placeholder:t.placeholder,placeholderClass:t.placeholderClass,placeholderStyle:t.placeholderStyle,showWordLimit:t.showWordLimit,confirmType:t.confirmType,confirmHold:t.confirmHold,holdKeyboard:t.holdKeyboard,focus:t.focus,autoBlur:t.autoBlur,disableDefaultPadding:t.disableDefaultPadding,cursor:t.cursor,cursorSpacing:t.cursorSpacing,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd,adjustPosition:t.adjustPosition,inputAlign:t.inputAlign,fontSize:t.fontSize,color:t.color,prefixIcon:t.prefixIcon,suffixIcon:t.suffixIcon,suffixIconStyle:t.suffixIconStyle,prefixIconStyle:t.prefixIconStyle,border:t.border,readonly:t.readonly,shape:t.shape,customStyle:t.customStyle,formatter:t.formatter,ignoreCompositionEvent:t.ignoreCompositionEvent},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("focus")},blur:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.$emit("blur",e)}.apply(void 0,arguments)},keyboardheightchange:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("keyboardheightchange")},change:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.$emit("change",e)}.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.$emit("input",e)}.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.$emit("confirm",e)}.apply(void 0,arguments)},clear:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("clear")},click:function(e){arguments[0]=e=t.$handleEvent(e),t.$emit("click")}}},[t._t("prefix",null,{slot:"prefix"}),t._t("suffix",null,{slot:"suffix"})],2)},i=[]},"4e5c":function(t,e,n){"use strict";n.r(e);var a=n("a43a"),i=n("070e");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("0233");var r=n("f0c5"),l=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"20d18c6a",null,!1,a["a"],void 0);e["default"]=l.exports},"673f":function(t,e,n){var a=n("191b");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("d8f14e72",a,!0,{sourceMap:!1,shadowMode:!1})},"76f0":function(t,e,n){"use strict";n("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("a9e3");var a={props:{value:{type:[String,Number],default:uni.$u.props.textarea.value},placeholder:{type:[String,Number],default:uni.$u.props.textarea.placeholder},placeholderClass:{type:String,default:uni.$u.props.input.placeholderClass},placeholderStyle:{type:[String,Object],default:uni.$u.props.input.placeholderStyle},height:{type:[String,Number],default:uni.$u.props.textarea.height},confirmType:{type:String,default:uni.$u.props.textarea.confirmType},disabled:{type:Boolean,default:uni.$u.props.textarea.disabled},count:{type:Boolean,default:uni.$u.props.textarea.count},focus:{type:Boolean,default:uni.$u.props.textarea.focus},autoHeight:{type:Boolean,default:uni.$u.props.textarea.autoHeight},fixed:{type:Boolean,default:uni.$u.props.textarea.fixed},cursorSpacing:{type:Number,default:uni.$u.props.textarea.cursorSpacing},cursor:{type:[String,Number],default:uni.$u.props.textarea.cursor},showConfirmBar:{type:Boolean,default:uni.$u.props.textarea.showConfirmBar},selectionStart:{type:Number,default:uni.$u.props.textarea.selectionStart},selectionEnd:{type:Number,default:uni.$u.props.textarea.selectionEnd},adjustPosition:{type:Boolean,default:uni.$u.props.textarea.adjustPosition},disableDefaultPadding:{type:Boolean,default:uni.$u.props.textarea.disableDefaultPadding},holdKeyboard:{type:Boolean,default:uni.$u.props.textarea.holdKeyboard},maxlength:{type:[String,Number],default:uni.$u.props.textarea.maxlength},border:{type:String,default:uni.$u.props.textarea.border},formatter:{type:[Function,null],default:uni.$u.props.textarea.formatter},ignoreCompositionEvent:{type:Boolean,default:!0}}};e.default=a},"7da1":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"u-textarea",class:t.textareaClass,style:[t.textareaStyle]},[n("v-uni-textarea",{staticClass:"u-textarea__field",style:{height:t.$u.addUnit(t.height)},attrs:{value:t.innerValue,placeholder:t.placeholder,"placeholder-style":t.$u.addStyle(t.placeholderStyle,"string"),"placeholder-class":t.placeholderClass,disabled:t.disabled,focus:t.focus,autoHeight:t.autoHeight,fixed:t.fixed,cursorSpacing:t.cursorSpacing,cursor:t.cursor,showConfirmBar:t.showConfirmBar,selectionStart:t.selectionStart,selectionEnd:t.selectionEnd,adjustPosition:t.adjustPosition,disableDefaultPadding:t.disableDefaultPadding,holdKeyboard:t.holdKeyboard,maxlength:t.maxlength,confirmType:t.confirmType,ignoreCompositionEvent:t.ignoreCompositionEvent},on:{focus:function(e){arguments[0]=e=t.$handleEvent(e),t.onFocus.apply(void 0,arguments)},blur:function(e){arguments[0]=e=t.$handleEvent(e),t.onBlur.apply(void 0,arguments)},linechange:function(e){arguments[0]=e=t.$handleEvent(e),t.onLinechange.apply(void 0,arguments)},input:function(e){arguments[0]=e=t.$handleEvent(e),t.onInput.apply(void 0,arguments)},confirm:function(e){arguments[0]=e=t.$handleEvent(e),t.onConfirm.apply(void 0,arguments)},keyboardheightchange:function(e){arguments[0]=e=t.$handleEvent(e),t.onKeyboardheightchange.apply(void 0,arguments)}}}),t.count?n("v-uni-text",{staticClass:"u-textarea__count",style:{"background-color":t.disabled?"transparent":"#fff"}},[t._v(t._s(t.innerValue.length)+"/"+t._s(t.maxlength))]):t._e()],1)},i=[]},a43a:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return a}));var a={"u-Input":n("d072").default,uTextarea:n("fede").default,uButton:n("6905").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticStyle:{padding:"32upx"}},[n("v-uni-view",{staticClass:"robot"},[n("v-uni-view",{staticClass:"title"},[t._v("当前角色:"+t._s(t.role_name))]),n("v-uni-view",{staticClass:"tips"},[n("v-uni-view",{staticClass:"item",staticStyle:{"margin-right":"42upx"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toHis.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:t.hisImg,mode:""}}),n("v-uni-view",{staticClass:"text"},[t._v("历史记录")])],1),n("v-uni-view",{staticClass:"item",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toIdea.apply(void 0,arguments)}}},[n("v-uni-image",{attrs:{src:t.ideaImg,mode:""}}),n("v-uni-view",{staticClass:"text"},[t._v("投诉及建议")])],1)],1)],1),n("v-uni-view",{staticClass:"main"},[n("v-uni-view",{staticClass:"main_title"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"left"}),n("v-uni-view",{staticClass:"middle"},[t._v("角色名称")])],1)],1),n("v-uni-view",{staticStyle:{"margin-bottom":"20upx"}},[n("u--input",{attrs:{placeholder:"请输入内容",border:"surround"},model:{value:t.roleName,callback:function(e){t.roleName=e},expression:"roleName"}})],1),n("v-uni-view",{staticClass:"main_title"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"left"}),n("v-uni-view",{staticClass:"middle"},[t._v("当前角色提示词")])],1)],1),n("u-textarea",{attrs:{cols:"30",placeholder:t.placeholder},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("v-uni-view",{staticClass:"main_title"},[n("v-uni-view",{staticClass:"top"},[n("v-uni-view",{staticClass:"left"}),n("v-uni-view",{staticClass:"middle"},[t._v("更换角色")])],1),n("v-uni-view",{staticStyle:{color:"#B7B9C0","font-size":"24upx"}},[t._v("当前选择的是"+t._s(t.model)+"，"+t._s(t.count)+"w算力/"+t._s(t.untils))])],1),n("v-uni-view",{staticClass:"roleList"},t._l(t.roleList,(function(e,a){return n("v-uni-view",{key:a,staticClass:"roleItem",style:[{border:t.active==a?"2rpx solid #1F64FF":"2rpx solid #DBDBDB"}],on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.roleChange(a)}}},[n("v-uni-view",{staticStyle:{"margin-top":"40upx"}},[n("v-uni-image",{attrs:{src:t.getImgUrl(e.logo)}})],1),n("v-uni-view",{staticClass:"role_name"},[t._v(t._s(e.model))]),n("v-uni-view",{staticClass:"role_remark"},[t._v(t._s(e.consume_points)+"w算力/"+t._s(e.unit))])],1)})),1)],1),2==t.role_type?n("v-uni-view",{staticClass:"bottom"},[n("u-button",{attrs:{type:"primary",text:"确认"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}})],1):t._e()],1)},o=[]},b011:function(t,e,n){"use strict";n.r(e);var a=n("243c"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},b7bf:function(t,e,n){var a=n("24fb");e=a(!1),e.push([t.i,".robot[data-v-20d18c6a]{display:flex;align-items:center;justify-content:space-between}.robot .title[data-v-20d18c6a]{color:#242f49;font-size:%?40?%;font-weight:500;line-height:150%}.robot .tips[data-v-20d18c6a]{display:flex;align-items:center;justify-content:center}.robot .tips .item[data-v-20d18c6a]{display:flex;align-items:center;justify-content:center;flex-direction:column}.robot .tips .item uni-image[data-v-20d18c6a]{width:%?48?%;height:%?48?%}.robot .tips .item .text[data-v-20d18c6a]{color:#3f3f3f;font-size:%?22?%;font-weight:400;line-height:150%}uni-textarea[data-v-20d18c6a]{padding:%?24?% %?32?%;border:%?2?% solid #d7d9df;border-radius:8px;margin-bottom:%?20?%}.main[data-v-20d18c6a]{background-color:#fff;padding:%?30?% %?20?% %?130?% %?20?%;margin-top:%?20?%}.main .main_title[data-v-20d18c6a]{margin-bottom:%?34?%}.main .main_title .top[data-v-20d18c6a]{display:flex;align-items:center}.main .main_title .top .left[data-v-20d18c6a]{width:3px;height:18px;background:#1f64ff}.main .main_title .top .middle[data-v-20d18c6a]{color:#393e45;font-size:%?32?%;font-weight:600;margin:0 %?20?% 0 %?16?%}.main .main_title .top uni-image[data-v-20d18c6a]{width:%?32?%;height:%?32?%}.main .roleList[data-v-20d18c6a]{display:flex;justify-content:space-between;flex-wrap:wrap;padding:%?20?%}.main .roleList .roleItem[data-v-20d18c6a]{width:%?190?%;height:%?220?%;border-radius:%?14.5?%;border:%?2?% solid #dbdbdb;background:#fff;text-align:center;margin-bottom:%?26?%}.main .roleList .roleItem uni-image[data-v-20d18c6a]{width:%?73?%;height:%?79?%}.main .roleList .roleItem .role_name[data-v-20d18c6a]{color:#000;font-size:%?24?%}.main .roleList .roleItem .role_remark[data-v-20d18c6a]{color:#999;font-size:%?20?%}.bottom[data-v-20d18c6a]{position:fixed;width:82%;bottom:0;background-color:#fff;padding:%?40?%}",""]),t.exports=e},bb32:function(t,e,n){"use strict";n("7a82");var a=n("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("99af"),n("14d9");var i=a(n("76f0")),o={name:"u-textarea",mixins:[uni.$u.mpMixin,uni.$u.mixin,i.default],data:function(){return{innerValue:"",focused:!1,firstChange:!0,changeFromInner:!1,innerFormatter:function(t){return t}}},watch:{value:{immediate:!0,handler:function(t,e){this.innerValue=t,!1===this.firstChange&&!1===this.changeFromInner&&this.valueChange(),this.firstChange=!1,this.changeFromInner=!1}}},computed:{textareaClass:function(){var t=[],e=this.border,n=this.disabled;this.shape;return"surround"===e&&(t=t.concat(["u-border","u-textarea--radius"])),"bottom"===e&&(t=t.concat(["u-border-bottom","u-textarea--no-radius"])),n&&t.push("u-textarea--disabled"),t.join(" ")},textareaStyle:function(){return uni.$u.deepMerge({},uni.$u.addStyle(this.customStyle))}},methods:{setFormatter:function(t){this.innerFormatter=t},onFocus:function(t){this.$emit("focus",t)},onBlur:function(t){this.$emit("blur",t),uni.$u.formValidate(this,"blur")},onLinechange:function(t){this.$emit("linechange",t)},onInput:function(t){var e=this,n=t.detail||{},a=n.value,i=void 0===a?"":a,o=this.formatter||this.innerFormatter,r=o(i);this.innerValue=i,this.$nextTick((function(){e.innerValue=r,e.valueChange()}))},valueChange:function(){var t=this,e=this.innerValue;this.$nextTick((function(){t.$emit("input",e),t.changeFromInner=!0,t.$emit("change",e),uni.$u.formValidate(t,"change")}))},onConfirm:function(t){this.$emit("confirm",t)},onKeyboardheightchange:function(t){this.$emit("keyboardheightchange",t)}}};e.default=o},d072:function(t,e,n){"use strict";n.r(e);var a=n("4b38"),i=n("b011");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);var r=n("f0c5"),l=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=l.exports},e3f8:function(t,e,n){"use strict";n.r(e);var a=n("bb32"),i=n.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},e652:function(t,e,n){"use strict";var a=n("673f"),i=n.n(a);i.a},f9da:function(t,e,n){var a=n("b7bf");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("4f06").default;i("4c0ec8ab",a,!0,{sourceMap:!1,shadowMode:!1})},fede:function(t,e,n){"use strict";n.r(e);var a=n("7da1"),i=n("e3f8");for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("e652");var r=n("f0c5"),l=Object(r["a"])(i["default"],a["b"],a["c"],!1,null,"1ba40ab6",null,!1,a["a"],void 0);e["default"]=l.exports}}]);