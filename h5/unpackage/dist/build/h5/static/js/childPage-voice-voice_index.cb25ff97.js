(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["childPage-voice-voice_index"],{"1e8e":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".cont_title[data-v-4d5ab99c]{padding:%?35?% %?30?% %?30?% %?30?%;display:flex;flex-direction:column}.cont_title .title_t[data-v-4d5ab99c]{color:#000;font-size:%?32?%;font-style:normal;font-weight:500;line-height:%?42?%}.cont_title .title_b[data-v-4d5ab99c]{color:#666;font-size:%?26?%;font-style:normal;font-weight:400;line-height:%?42?%}.cont_link[data-v-4d5ab99c]{width:100%;background:#fff;border-radius:%?10?%;background:#fff;padding:%?20?%;display:flex;align-items:center;justify-content:space-between;margin-top:%?20?%}.cont_link .link_l[data-v-4d5ab99c]{display:flex;align-items:center;justify-content:center;flex-direction:column}.cont_link .link_l .l_img[data-v-4d5ab99c]{width:%?320?%;height:%?310?%}.cont_link .link_l .r_img[data-v-4d5ab99c]{width:%?320?%;height:%?150?%}.cont_history .history_title[data-v-4d5ab99c]{color:#000;font-size:%?32?%;font-style:normal;font-weight:500;line-height:%?60?%}.ul_li[data-v-4d5ab99c]{margin-bottom:%?10?%}.ul_style[data-v-4d5ab99c]{width:100%;background:#fff;border-radius:%?10?%;padding:%?15?%}.ul_style .li_title[data-v-4d5ab99c]{color:#000;font-size:%?28?%;font-weight:500;line-height:%?40?%}.ul_style .li_time[data-v-4d5ab99c]{color:#8e99a8;font-size:%?24?%;font-weight:500;line-height:%?40?%;padding:%?10?% 0}.ul_style .li_btn[data-v-4d5ab99c]{display:flex;align-items:center;justify-content:space-between}.ul_style .li_btn .btn_l[data-v-4d5ab99c]{display:flex}.ul_style .li_btn .btn_l .btn_text[data-v-4d5ab99c]{color:#8e99a8;font-size:%?24?%;font-style:normal;font-weight:400;line-height:%?40?%;padding-left:%?8?%}.on_order[data-v-4d5ab99c]{display:flex;align-items:center;justify-content:center}.order_img[data-v-4d5ab99c]{width:%?450?%;height:%?450?%}.on_order_list[data-v-4d5ab99c]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;height:%?100?%;line-height:%?100?%;color:#c0c4cc;margin-bottom:%?110?%}",""]),t.exports=e},"23bc":function(t,e,i){var a=i("1e8e");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("4a1a33c6",a,!0,{sourceMap:!1,shadowMode:!1})},"2b25":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return a}));var a={uIcon:i("0289").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticStyle:{height:"100vh"}},[i("v-uni-view",{staticClass:"cont_title"},[i("v-uni-view",{staticClass:"title_t"},[t._v("使用场景")]),i("v-uni-view",{staticClass:"title_b"},[t._v("会议记录、课堂笔记、采访调研 专业领域一键生稿")]),i("v-uni-view",{staticClass:"cont_link"},[i("v-uni-view",{staticClass:"link_l"},[i("v-uni-image",{staticClass:"r_img",attrs:{src:t.wxImg,alt:"",mode:"aspectFit"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toVido.apply(void 0,arguments)}}})],1)],1),i("v-uni-view",{staticClass:"cont_history"},[i("v-uni-view",{staticClass:"history_title"},[t._v("历史记录")]),t.recordList.length>0?i("v-uni-scroll-view",{staticClass:"list_ul",attrs:{"scroll-y":"true"}},t._l(t.recordList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"ul_li",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.checkDetail(e)}}},[i("v-uni-view",{staticClass:"ul_style"},[i("v-uni-view",{staticClass:"li_title"},[t._v(t._s(e.title))]),i("v-uni-view",{staticClass:"li_time"},[t._v(t._s(e.create_time))]),i("v-uni-view",{staticClass:"li_btn"},[i("v-uni-view",{staticClass:"btn_l"},[i("u-icon",{attrs:{name:"clock",color:"#8e99a8",size:"16"}}),i("v-uni-text",{staticClass:"btn_text"},[t._v(t._s(t.showRecordTime(e.biz_duration)))])],1),i("v-uni-view",{staticClass:"btn_r",on:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.delChat(e.speech_code)}}},[i("u-icon",{attrs:{name:"trash",color:"#8e99a8",size:"20"}})],1)],1)],1)],1)})),1):i("v-uni-view",{staticClass:"on_order_list"},[t._v("暂无相关记录")]),1==t.loadingType?i("v-uni-view",{staticClass:"on_order_list"},[t._v("没有更多内容了!")]):t._e()],1)],1)],1)},o=[]},"31bd":function(t,e,i){"use strict";i.r(e);var a=i("cc00"),n=i.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"3f69":function(t,e,i){"use strict";i.r(e);var a=i("2b25"),n=i("31bd");for(var o in n)["default"].indexOf(o)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("807d");var c=i("f0c5"),s=Object(c["a"])(n["default"],a["b"],a["c"],!1,null,"4d5ab99c",null,!1,a["a"],void 0);e["default"]=s.exports},"807d":function(t,e,i){"use strict";var a=i("23bc"),n=i.n(a);n.a},cc00:function(t,e,i){"use strict";(function(t){i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("c975"),i("e25e"),i("d3b7"),i("159b"),i("14d9"),i("e9c4");var a=i("2d63"),n={data:function(){return{voiceImg:t.baseImg+"/xcx/f6854c16-7e46-4e42-aad1-a2246a5af259.jpg",spImg:t.baseImg+"/xcx/8abed785-a5fb-45f7-9afa-97d20f32f042.jpg",wxImg:t.baseImg+"/xcx/2b5b0950-3a86-41fd-990b-3f81c158e219.jpg",file_type:1,page_no:1,page_count:10,recordList:[],pageTotal:0,loadingType:0,backImg:t.baseImg+"/xcx/8a3fda0a-67b9-4545-a297-2b516055f560.jpg"}},components:{},onLoad:function(t){},onShow:function(){this.page_no=1,this.loadingType=0,this.getRecord()},methods:{toVoice:function(){uni.navigateTo({url:"/childPage/voice/voice"})},toWchat:function(){var e=this;wx.chooseMessageFile({count:1,type:"all",extension:[".mp3",".mp4",".wav",".m4a",".wma",".aac",".ogg",".amr",".flac"],success:function(i){var a=this,n=i.tempFiles[0].size,o=i.tempFiles[0].type;if(this.file_type="file"==o?2:"video"==o?3:1,n>536870912&&2==this.file_type)e.$api.msg("该文件已超过512M，不能上传");else if(o>2147483648&&3==this.file_type)e.$api.msg("该视频已超过2Gb，不能上传");else{var c=i.tempFiles[0].path,s=i.tempFiles[0].name;uni.uploadFile({url:t.loginUrl+"/api/user/oss_upload",filePath:c,name:"image",formData:{image:c,image_name:s,oss_dir:"static",cate:"create_character"},success:function(t){var i=JSON.parse(t.data);if(console.log(i,1258),2e4==i.code){var n=i.data.new_url;e.createFile(n,a.file_type)}else e.$api.msg(i.msg)},fail:function(t){e.$api.msg("上传失败")}})}}})},toVido:function(){var e=this;uni.chooseFile({count:1,type:"all",success:function(i){var a=this;console.log(i,6666);var n=i.tempFiles[0].size,o=i.tempFiles[0].type;if(-1!=o.indexOf("audio")?this.file_type=2:-1!=o.indexOf("video")?this.file_type=3:this.file_type=1,n>536870912&&2==this.file_type)e.$api.msg("该文件已超过512M，不能上传");else if(o>2147483648&&3==this.file_type)e.$api.msg("该视频已超过2Gb，不能上传");else{var c=i.tempFilePaths[0];uni.uploadFile({url:t.loginUrl+"/api/user/oss_upload",filePath:c,name:"image",formData:{image:c,oss_dir:"static",cate:"create_character"},success:function(t){var i=JSON.parse(t.data);if(2e4==i.code){var n=i.data.new_url;e.createFile(n,a.file_type)}else e.$api.msg(i.msg)},fail:function(t){e.$api.msg("上传失败")}})}}})},createFile:function(t,e){var i=this,n={file_link:t};(0,a.createFile)(n).then((function(a){2e4==a.code?uni.navigateTo({url:"/childPage/voice/video_result?task_id="+a.data.task_id+"&voice_url="+t+"&file_type="+e}):i.$api.msg(a.msg)})).catch((function(t){i.$api.msg("获取失败！")}))},getRecord:function(){var t=this,e={page_size:this.page_count,page:this.page_no};(0,a.getRecord)(e).then((function(e){if(2e4==e.code){t.recordList=e.data.data;var i=e.data.total;i%t.page_count==0?t.pageTotal=i/t.page_count:t.pageTotal=parseInt(i/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(e.msg)})).catch((function(e){t.$api.msg("获取录音列表失败")}))},onReachBottom:function(){var t=this;if(1!=this.loadingType){this.page_no++;var e={page_size:this.page_count,page:this.page_no};(0,a.getRecord)(e).then((function(e){if(2e4==e.code){var i=e.data.total;if(0==i)return;var a=e.data.data,n=t.recordList;a.forEach((function(t){n.push(t)})),i%t.page_count==0?t.pageTotal=i/t.page_count:t.pageTotal=parseInt(i/t.page_count)+1,t.pageTotal<=t.page_no&&(t.loadingType=1)}else t.$api.msg(e.msg)})).catch((function(e){t.$api.msg("获取录音列表失败")}))}},showRecordTime:function(t){var e=Math.floor(t),i=Math.floor(e/3600);i<10&&(i="0"+i);var a=Math.floor(e%3600/60);a<10&&(a="0"+a);var n=e%60;return n<10&&(n="0"+n),i+":"+a+":"+n},delChat:function(t){var e=this;uni.showModal({title:"提示",content:"确定删除该录音记录吗？",success:function(i){i.confirm&&e.delCont(t)}})},delCont:function(t){var e=this;(0,a.delRecord)(t).then((function(t){2e4==t.code?(e.$api.msg("删除成功"),e.page_no=1,e.loadingType=0,e.getRecord()):e.$api.msg(t.msg)}))},checkDetail:function(t){uni.navigateTo({url:"/childPage/voice/voice_detail?info="+JSON.stringify(t)})}}};e.default=n}).call(this,i("c8ba"))}}]);