(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["childPage-role-talk"],{"070e4":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return s})),e.d(a,"a",(function(){return i}));var i={uIcon:e("0289").default},n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("v-uni-view",{staticClass:"top_cont"},[i("v-uni-view",{staticClass:"search_cont"},[i("v-uni-view",{staticClass:"search"},[i("v-uni-image",{staticClass:"search_img",attrs:{src:e("c02e")}}),i("v-uni-input",{staticClass:"search_input",attrs:{placeholder:"请输入搜索内容",type:"text"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.search.apply(void 0,arguments)}},model:{value:t.searchValue,callback:function(a){t.searchValue=a},expression:"searchValue"}})],1),i("v-uni-view",{staticClass:"chat_type"},[i("v-uni-view",{class:[8==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(8)}}},[t._v("ChatGLM")]),i("v-uni-view",{class:[4==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(4)}}},[t._v("文心一言")]),i("v-uni-view",{class:[5==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(5)}}},[t._v("讯飞星火")]),i("v-uni-view",{class:[10==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(10)}}},[t._v("通义千问")]),i("v-uni-view",{class:[11==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(11)}}},[t._v("商汤日日新")])],1)],1)],1),i("v-uni-view",{staticClass:"chat_cont"},[t.chatList.length>0?i("v-uni-scroll-view",{staticClass:"list_ul",staticStyle:{"margin-top":"320rpx"},attrs:{"scroll-y":"true"}},t._l(t.chatList,(function(a,e){return i("v-uni-view",{key:e,staticClass:"ul_style",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkDetail(a)}}},[i("v-uni-view",{staticClass:"li_style"},[i("v-uni-view",{staticClass:"li_left"},[i("v-uni-image",{staticClass:"li_img",attrs:{src:a.character_avatar}})],1),i("v-uni-view",{staticClass:"li_right"},[i("v-uni-view",{staticClass:"li_top"},[i("v-uni-text",{staticClass:"top_l"},[t._v(t._s(a.title))])],1),i("v-uni-view",{staticClass:"li_btn"},[i("v-uni-view",[t._v("提问时间："+t._s(a.create_time))]),i("v-uni-view",{on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.delPhoto(a.session_code)}}},[i("u-icon",{attrs:{name:"trash",color:"#666",size:"20"}})],1)],1)],1)],1)],1)})),1):i("v-uni-view",{staticClass:"on_order"},[i("v-uni-image",{staticClass:"order_img",attrs:{src:t.backImg}})],1),1==t.loadingType?i("v-uni-view",{staticClass:"on_order_list"},[t._v("没有更多内容了!")]):t._e()],1)],1)},s=[]},"1f82":function(t,a,e){"use strict";var i=e("f4ff"),n=e.n(i);n.a},"52cc":function(t,a,e){"use strict";e.r(a);var i=e("070e4"),n=e("bdc4");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("1f82");var c=e("f0c5"),o=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"420ba822",null,!1,i["a"],void 0);a["default"]=o.exports},"842c":function(t,a,e){"use strict";(function(t){e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("d81d"),e("c975"),e("fb6a"),e("e25e"),e("d3b7"),e("159b"),e("14d9"),e("e9c4");var i=e("2d63"),n=e("0a1b"),s={data:function(){return{active_top:0,active:4,searchValue:"",loadingType:0,page_no:1,page_count:10,chatList:[],pageTotal:0,backImg:t.baseImg+"/xcx/8a3fda0a-67b9-4545-a297-2b516055f560.jpg",wxImg:t.baseImg+"/xcx/45cbd4e5-474e-4782-a31e-1efd2a48d664.jpg"}},components:{},onLoad:function(t){void 0!=t.active&&(this.active=t.active,this.page_no=1,this.loadingType=0,this.searchValue="",this.getChatList())},onShow:function(){this.getChatList()},methods:{version:function(t){this.active=t,this.page_no=1,this.loadingType=0,this.searchValue="",this.getChatList()},search:function(){this.page_no=1,this.loadingType=0,this.getChatList()},getChatList:function(){var a=this,e={chat_type:this.active,title:this.searchValue,page_size:this.page_count,page:this.page_no,is_question:1};(0,i.chatList)(e).then((function(e){if(2e4==e.code){e.data.data.map((function(a,e){if(-1!=a.title.indexOf("(回答内容")){var i=a.title.indexOf("(回答内容");a.title=a.title.slice(0,i)}""!=a.character_avatar&&(a.character_avatar=t.baseImg+"/"+a.character_avatar)})),a.chatList=e.data.data;var i=e.data.total;i%a.page_count==0?a.pageTotal=i/a.page_count:a.pageTotal=parseInt(i/a.page_count)+1,1==a.pageTotal&&(a.loadingType=1)}else a.$api.msg(e.msg)})).catch((function(t){a.$api.msg("获取对话信息失败")}))},onReachBottom:function(){var a=this;if(1!=this.loadingType){this.page_no++;var e={chat_type:this.active,title:this.searchValue,page_size:this.page_count,page:this.page_no};(0,i.chatList)(e).then((function(e){if(2e4==e.code){var i=e.data.total;if(0==i)return;var n=e.data.data,s=a.chatList;n.forEach((function(a){if(-1!=a.title.indexOf("(回答内容")){var e=a.title.indexOf("(回答内容");a.title=a.title.slice(0,e)}""!=a.character_avatar&&(a.character_avatar=t.baseImg+"/"+a.character_avatar),s.push(a)})),i%a.page_count==0?a.pageTotal=i/a.page_count:a.pageTotal=parseInt(i/a.page_count)+1,console.log(a.pageTotal,158),a.pageTotal<=a.page_no&&(a.loadingType=1)}else a.$api.msg(e.msg)})).catch((function(t){a.$api.msg("获取对话信息失败")}))}},checkDetail:function(t){var a=this;uni.showModal({content:"是否延续当前对话",success:function(e){e.confirm?4==a.active||5==a.active||7==a.active||8==a.active||10==a.active||11==a.active?uni.navigateTo({url:"/childPage/role/user_chat?item="+JSON.stringify(t)}):uni.switchTab({url:"/pages/draw/draw"}):e.cancel&&console.log("您点击了取消")}})},delPhoto:function(t){var a=this;uni.showModal({title:"提示",content:"确定删除该记录吗？",success:function(e){e.confirm&&a.delCont(t)}})},delCont:function(t){var a=this,e=[];e.push(t);var i={session_codes:JSON.stringify(e)};(0,n.del_session)(i).then((function(t){2e4==t.code?(a.$api.msg("删除成功"),a.getChatList()):a.$api.msg(t.msg)}))}}};a.default=s}).call(this,e("c8ba"))},bdc4:function(t,a,e){"use strict";e.r(a);var i=e("842c"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},c02e:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJiSURBVHgB7ZfRUeMwEIbXqSBXwfkquFwFUSoAKrhcBQcV4FRAqIDQAVQQ5yHPhA5cQnjNQ8K/sAqLEqyV44FhJv+MJrJiyd9Kq9WK6Khvpizl5el06jqdzslms3F4zFG68tcCpUL7PX7LwWBQUUOZgAAyzLLsUiAsmgBu1AQsi4DkALlB1VG6lgI1TunUoXqYaQDDH7lGGaD8cM5lXFD/g/IP/5fq3S76X81ms0tKUBaByX0bg+CngMVLqhH7mczqti+ei36/P6KmQGVZ6pnhWTkDSElGAaorUKe+jWfVMka2Z7ChDOYHYpg7aqDAsArL+yvWZ8eHZDd5mFFTGOnPfuWXOGdjY33eAfH609vaVygTOkC87cX3XgRj/8b6hDN0quoHBTglve0d+xdZgWDBb1+HZbfUgmRXlqrJkRUI6qn6gloSjHtUjzklAG2nMxZvErXc9w0L0JcrBKp8ZT6f/6SWpH2TIq4QAm1fXq1WZ9SetG9WZAWC8818HVadUAsKYxt8M2mGJqruZLCDpCM/vd/+cSDeWTr+8JkWC2R1Qurxn1Tc4aMo1mffLitInT+c01ADwZAeAMYK5toS+XeA5PzRlgxxaj9wjkRG8cxIPuXFBhaWvh+msAAogvWv8DxZr9e3H1kqyRn3cTsfMiZpsZw6hPIq0b4A3JN8jGMWH8yhvy11mwUqeuvYl5Ja5FNelHNtVAzKfC+TTJLzGVfzmt+lY72s4UzXQSVdFGVwXoKeFL8cFcqiLuhZoZKBDlEIhdm8CO9tn3ra4+NFEFLy8J1PTz8E6oJej6mkW+1RR1n0DFMuJYmylwERAAAAAElFTkSuQmCC"},e3e9a:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,"uni-page-body[data-v-420ba822]{background:#f6f8fb}body.?%PAGE?%[data-v-420ba822]{background:#f6f8fb}.top_cont[data-v-420ba822]{width:100%;height:%?142?%;background:#fff;position:fixed;top:0;z-index:10}.search_cont[data-v-420ba822]{width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:%?25?% %?25?% 0 %?25?%;background:#fff}.search[data-v-420ba822]{width:100%;height:%?72?%;background:#f6f6f6;border-radius:%?100?%;display:flex;align-items:center;justify-content:center;padding:0 %?32?%;margin-bottom:%?20?%}.search_input[data-v-420ba822]{flex:1}.search_img[data-v-420ba822]{width:%?36?%;height:%?36?%}.cont_tabs[data-v-420ba822]{width:100%;display:flex}.tabs_l[data-v-420ba822]{width:50%;display:flex;align-items:center;justify-content:center}.active_tabs_top[data-v-420ba822]{font-style:normal;font-weight:500;font-size:%?28?%;line-height:%?50?%;color:#1f64ff;border-bottom:%?5?% solid #1f64ff}.tabs_top[data-v-420ba822]{font-style:normal;font-weight:500;font-size:%?28?%;line-height:%?50?%;color:#999}.list_ul[data-v-420ba822]{padding:%?25?% %?10?%;margin-bottom:%?30?%;width:100%}.ul_style[data-v-420ba822]{display:flex;flex-direction:column;padding:0 %?15?%}.li_style[data-v-420ba822]{display:flex;align-items:center;background:#fff;\n  /* border: 1px solid #C0C4CC; */box-shadow:%?0?% %?0?% %?10?% rgba(0,0,0,.14);border-radius:%?15?%;padding:%?20?%;margin-bottom:%?25?%}.li_top[data-v-420ba822]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?18?%}.top_l[data-v-420ba822]{ont-weight:400;font-size:%?28?%;line-height:%?42?%;color:#333;width:70%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.top_r[data-v-420ba822]{ont-weight:400;font-size:%?24?%;line-height:%?30?%;color:#6e7480}.li_btn[data-v-420ba822]{font-weight:400;font-size:%?24?%;line-height:%?35?%;color:#6e7480;display:flex;align-items:center;justify-content:space-between}.on_order[data-v-420ba822]{display:flex;align-items:center;justify-content:center;height:100vh;width:100vw}.order_img[data-v-420ba822]{width:%?450?%;height:%?450?%}.on_order_list[data-v-420ba822]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;height:%?100?%;line-height:%?100?%;width:100vw;color:#c0c4cc}.chat_type[data-v-420ba822]{display:flex;align-items:center;width:100%;padding:%?15?% 0;flex-wrap:wrap;flex:1}.chat_type .tabs[data-v-420ba822]{width:22%;background:#f8f8f9;border-radius:%?6?%;padding:%?16?% 0;margin:%?10?% 1.5%;font-style:normal;font-weight:500;font-size:%?28?%;line-height:150%;color:#333;display:flex;align-items:center;justify-content:center}.chat_type .active_tabs[data-v-420ba822]{width:22%;background:rgba(31,100,255,.15);border-radius:%?6?%;padding:%?16?% 0;margin:%?10?% 1.5%;font-style:normal;font-weight:500;font-size:%?28?%;line-height:150%;color:#1f64ff;display:flex;align-items:center;justify-content:center}.li_left[data-v-420ba822]{padding-right:%?10?%}.li_left .li_img[data-v-420ba822]{width:%?110?%;height:%?110?%;border-radius:50%}.li_right[data-v-420ba822]{width:calc(100% - %?160?%)}",""]),t.exports=a},f4ff:function(t,a,e){var i=e("e3e9a");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("aeb2ecc8",i,!0,{sourceMap:!1,shadowMode:!1})}}]);