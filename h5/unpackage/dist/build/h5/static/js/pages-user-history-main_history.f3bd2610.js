(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-history-main_history"],{2136:function(t,i,a){"use strict";a.r(i);var e=a("775d"),n=a("9a18");for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(i,t,(function(){return n[t]}))}(s);a("fbd2");var c=a("f0c5"),o=Object(c["a"])(n["default"],e["b"],e["c"],!1,null,"7186177c",null,!1,e["a"],void 0);i["default"]=o.exports},3957:function(t,i,a){var e=a("de76");e.__esModule&&(e=e.default),"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var n=a("4f06").default;n("5247fddf",e,!0,{sourceMap:!1,shadowMode:!1})},"775d":function(t,i,a){"use strict";a.d(i,"b",(function(){return e})),a.d(i,"c",(function(){return n})),a.d(i,"a",(function(){}));var e=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",[e("v-uni-view",{staticClass:"top_cont"},[e("v-uni-view",{staticClass:"search_cont"},[e("v-uni-view",{staticClass:"search"},[e("v-uni-image",{staticClass:"search_img",attrs:{src:a("c02e")}}),e("v-uni-input",{staticClass:"search_input",attrs:{placeholder:"请输入搜索内容",type:"text"},on:{input:function(i){arguments[0]=i=t.$handleEvent(i),t.search.apply(void 0,arguments)}},model:{value:t.searchValue,callback:function(i){t.searchValue=i},expression:"searchValue"}})],1),e("v-uni-view",{staticClass:"cont_tabs"},[e("v-uni-view",{staticClass:"tabs_l"},[e("v-uni-view",{class:[0==t.active_top?"active_tabs_top":"tabs_top"],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.version_top(0)}}},[t._v("对话")])],1),e("v-uni-view",{staticClass:"tabs_l"},[e("v-uni-view",{class:[1==t.active_top?"active_tabs_top":"tabs_top"],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.version_top(1)}}},[t._v("绘画")])],1)],1)],1)],1),0==t.active_top?e("v-uni-view",{staticClass:"chat_cont",staticStyle:{"margin-top":"126rpx"}},[t.chatList.length>0?e("v-uni-scroll-view",{staticClass:"list_ul",attrs:{"scroll-y":"true"}},t._l(t.chatList,(function(i,a){return e("v-uni-view",{key:a,staticClass:"ul_style"},[e("v-uni-view",{staticClass:"li_style"},[e("v-uni-view",{staticClass:"ul_right"},[e("v-uni-view",{staticClass:"li_top"},[e("v-uni-text",{staticClass:"top_l"},[t._v(t._s(i.title))])],1),e("v-uni-view",{staticClass:"li_btn"},[e("v-uni-view",{staticClass:"btn_l"},[t._v("提问者")]),e("v-uni-view",{staticClass:"btn_r"},[t._v(t._s(i.nick_name))])],1),e("v-uni-view",{staticClass:"li_btn"},[e("v-uni-view",{staticClass:"btn_l"},[t._v("创建时间")]),e("v-uni-view",{staticClass:"btn_r"},[t._v(t._s(i.create_time))])],1),e("v-uni-view",{staticClass:"li_edit"},[e("v-uni-view",{staticClass:"edit_l",on:{click:function(a){a.stopPropagation(),arguments[0]=a=t.$handleEvent(a),t.delPhoto(i.session_code)}}},[t._v("删除")]),e("v-uni-view",{staticClass:"edit_r",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.checkDetail(i.session_code)}}},[t._v("继续对话")])],1)],1)],1)],1)})),1):e("v-uni-view",{staticClass:"on_order"},[e("v-uni-image",{staticClass:"order_img",attrs:{src:t.backImg}})],1),1==t.loadingType?e("v-uni-view",{staticClass:"on_order_list"},[t._v("没有更多内容了!")]):t._e()],1):e("v-uni-view",{staticClass:"chat_cont",staticStyle:{"margin-top":"126rpx"}},[t.chatList.length>0?e("v-uni-scroll-view",{staticClass:"list_ul",attrs:{"scroll-y":"true"}},t._l(t.chatList,(function(i,a){return e("v-uni-view",{key:a,staticClass:"ul_style",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.checkDetail(i.chat_type<13?i.session_code:i.image_code)}}},[e("v-uni-view",{staticClass:"li_style"},[1==t.active_top?e("v-uni-view",{staticClass:"liLeft"},[e("v-uni-image",{staticClass:"liImg",attrs:{src:t.getImgUrl(i.chat_type<13?i.content:i.result_image)}})],1):t._e(),e("v-uni-view",{staticClass:"liRight"},[e("v-uni-view",{staticClass:"liTop"},[e("v-uni-text",{staticClass:"topL"},[t._v(t._s(i.title))])],1),e("v-uni-view",{staticClass:"liBtn"},[t._v("提问时间："+t._s(i.create_time))])],1)],1)],1)})),1):e("v-uni-view",{staticClass:"on_order"},[e("v-uni-image",{staticClass:"order_img",attrs:{src:t.backImg}})],1),1==t.loadingType?e("v-uni-view",{staticClass:"on_order_list"},[t._v("没有更多内容了!")]):t._e()],1)],1)},n=[]},"9a18":function(t,i,a){"use strict";a.r(i);var e=a("e2b7"),n=a.n(e);for(var s in e)["default"].indexOf(s)<0&&function(t){a.d(i,t,(function(){return e[t]}))}(s);i["default"]=n.a},c02e:function(t,i){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJiSURBVHgB7ZfRUeMwEIbXqSBXwfkquFwFUSoAKrhcBQcV4FRAqIDQAVQQ5yHPhA5cQnjNQ8K/sAqLEqyV44FhJv+MJrJiyd9Kq9WK6Khvpizl5el06jqdzslms3F4zFG68tcCpUL7PX7LwWBQUUOZgAAyzLLsUiAsmgBu1AQsi4DkALlB1VG6lgI1TunUoXqYaQDDH7lGGaD8cM5lXFD/g/IP/5fq3S76X81ms0tKUBaByX0bg+CngMVLqhH7mczqti+ei36/P6KmQGVZ6pnhWTkDSElGAaorUKe+jWfVMka2Z7ChDOYHYpg7aqDAsArL+yvWZ8eHZDd5mFFTGOnPfuWXOGdjY33eAfH609vaVygTOkC87cX3XgRj/8b6hDN0quoHBTglve0d+xdZgWDBb1+HZbfUgmRXlqrJkRUI6qn6gloSjHtUjzklAG2nMxZvErXc9w0L0JcrBKp8ZT6f/6SWpH2TIq4QAm1fXq1WZ9SetG9WZAWC8818HVadUAsKYxt8M2mGJqruZLCDpCM/vd/+cSDeWTr+8JkWC2R1Qurxn1Tc4aMo1mffLitInT+c01ADwZAeAMYK5toS+XeA5PzRlgxxaj9wjkRG8cxIPuXFBhaWvh+msAAogvWv8DxZr9e3H1kqyRn3cTsfMiZpsZw6hPIq0b4A3JN8jGMWH8yhvy11mwUqeuvYl5Ja5FNelHNtVAzKfC+TTJLzGVfzmt+lY72s4UzXQSVdFGVwXoKeFL8cFcqiLuhZoZKBDlEIhdm8CO9tn3ra4+NFEFLy8J1PTz8E6oJej6mkW+1RR1n0DFMuJYmylwERAAAAAElFTkSuQmCC"},de76:function(t,i,a){var e=a("24fb");i=e(!1),i.push([t.i,"uni-page-body[data-v-7186177c]{background:#f6f8fb}body.?%PAGE?%[data-v-7186177c]{background:#f6f8fb}.top_cont[data-v-7186177c]{width:100%;height:%?142?%;background:#fff;position:fixed;top:0;z-index:10}.search_cont[data-v-7186177c]{width:calc(100% - %?50?%);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 %?25?%;background:#fff}.search[data-v-7186177c]{width:calc(100% - %?64?%);height:%?72?%;background:#f6f6f6;border-radius:%?100?%;display:flex;align-items:center;justify-content:center;padding:0 %?32?%;margin-bottom:%?20?%}.search_input[data-v-7186177c]{flex:1}.search_img[data-v-7186177c]{width:%?36?%;height:%?36?%}.cont_tabs[data-v-7186177c]{width:100%;display:flex}.tabs_l[data-v-7186177c]{width:50%;display:flex;align-items:center;justify-content:center}.active_tabs_top[data-v-7186177c]{font-style:normal;font-weight:500;font-size:%?28?%;line-height:%?50?%;color:#1f64ff;border-bottom:%?5?% solid #1f64ff}.tabs_top[data-v-7186177c]{font-style:normal;font-weight:500;font-size:%?28?%;line-height:%?50?%;color:#999}.list_ul[data-v-7186177c]{padding:%?15?% %?10?%;margin-bottom:%?30?%;width:calc(100% - %?20?%)}.ul_style[data-v-7186177c]{display:flex;flex-direction:column;padding:%?15?% %?20?%}.li_style[data-v-7186177c]{display:flex;align-items:center;box-shadow:%?0?% %?0?% %?10?% rgba(0,0,0,.14);border-radius:%?10?%;padding:%?25?%;width:calc(102%);background:#fff}.li_style .ul_right[data-v-7186177c]{width:100%}.li_style .ul_img[data-v-7186177c]{padding:%?10?%}.li_style .ul_img .avatar_img[data-v-7186177c]{width:%?80?%;height:%?80?%;border-radius:%?8?%}.li_top[data-v-7186177c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?18?%;width:80%}.top_l[data-v-7186177c]{font-weight:500;font-size:%?30?%;line-height:%?42?%;color:#000;width:80%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.top_r[data-v-7186177c]{font-weight:400;font-size:%?24?%;line-height:%?30?%;color:#6e7480}.li_btn[data-v-7186177c]{font-weight:400;font-size:%?28?%;line-height:%?35?%;display:flex;align-items:center;justify-content:space-between}.li_btn .btn_l[data-v-7186177c]{color:#a4a4a4;font-size:%?28?%;font-weight:400;line-height:150%;padding:%?5?% %?0?%;line-height:%?48?%}.li_btn .btn_r[data-v-7186177c]{color:#000;font-size:%?28?%;font-weight:400;line-height:150%;padding:%?5?% %?0?%;line-height:%?48?%}.on_order[data-v-7186177c]{display:flex;align-items:center;justify-content:center;height:100vh;width:100vw}.order_img[data-v-7186177c]{width:%?450?%;height:%?450?%}.on_order_list[data-v-7186177c]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;height:%?100?%;line-height:%?100?%;width:100vw;color:#c0c4cc}.li_edit[data-v-7186177c]{display:flex;align-items:center;justify-content:flex-end;margin-top:%?10?%}.li_edit .edit_l[data-v-7186177c]{padding:%?10?% %?30?%;border-radius:%?8?%;border:%?1?% solid #1f64ff;color:#1f64ff;text-align:center;font-size:%?28?%;font-style:normal;font-weight:600;margin-right:%?20?%}.li_edit .edit_r[data-v-7186177c]{padding:%?10?% %?30?%;border-radius:%?8?%;background:#1f64ff;color:#fff;text-align:center;font-size:%?28?%;font-style:normal;font-weight:600}.top_cont[data-v-7186177c]{width:100%;height:%?142?%;background:#fff;position:fixed;top:0;z-index:10}.listUl[data-v-7186177c]{padding:%?25?% %?10?%;margin-bottom:%?30?%;width:calc(100% - %?20?%)}.ulStyle[data-v-7186177c]{display:flex;flex-direction:column;padding:0 %?15?%}.liStyle[data-v-7186177c]{display:flex;align-items:center;background:#fff;\n  /* border: 1px solid #C0C4CC; */box-shadow:%?0?% %?0?% %?10?% rgba(0,0,0,.14);border-radius:%?15?%;padding:%?20?%;margin-bottom:%?25?%;width:calc(100% - %?40?%)}.liTop[data-v-7186177c]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?18?%}.topL[data-v-7186177c]{ont-weight:400;font-size:%?28?%;line-height:%?42?%;color:#333;width:%?300?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.topR[data-v-7186177c]{ont-weight:400;font-size:%?24?%;line-height:%?30?%;color:#6e7480}.liBtn[data-v-7186177c]{font-weight:400;font-size:%?24?%;line-height:%?35?%;color:#6e7480}.liLeft[data-v-7186177c]{padding-right:%?10?%}.liLeft .liImg[data-v-7186177c]{width:%?110?%;height:%?110?%;border-radius:50%}.liRight[data-v-7186177c]{flex:1}",""]),t.exports=i},e2b7:function(t,i,a){"use strict";(function(t){a("7a82");var e=a("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,a("e25e"),a("d81d"),a("c975"),a("fb6a"),a("d3b7"),a("159b"),a("14d9"),a("e9c4");var n=e(a("ade3")),s=a("2d63"),c=a("0a1b"),o={data:function(){var i;return i={active_top:0,searchValue:"",loadingType:0,page_no:1,page_count:10,content:"",chatList:[],pageTotal:0},(0,n.default)(i,"searchValue",""),(0,n.default)(i,"backImg",t.baseImg+"/xcx/8a3fda0a-67b9-4545-a297-2b516055f560.jpg"),i},components:{},onShow:function(){this.getChatList()},methods:{version_top:function(t){this.active_top=t,1==t&&(this.active=9),this.page_no=1,this.loadingType=0,this.searchValue="",this.getChatList()},toIdea:function(){uni.navigateTo({url:"/childPage/answer/answer"})},search:function(){this.page_no=1,this.loadingType=0,this.getChatList()},getChatList:function(){var t=this;if(0==this.active_top){var i={scenario_type:"chat",page_size:this.page_count,title:this.searchValue,page:this.page_no};(0,s.chatList)(i).then((function(i){if(2e4==i.code){t.chatList=i.data.data;var a=i.data.total;a%t.page_count==0?t.pageTotal=a/t.page_count:t.pageTotal=parseInt(a/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(i.msg)})).catch((function(i){t.$api.msg("获取对话信息失败")}))}else if(1==this.active_top){var a={chat_type:this.active,title:this.searchValue,page_size:this.page_count,page:this.page_no};0==this.active_top?(0,s.chatList)(a).then((function(i){if(2e4==i.code){i.data.data.map((function(t,i){if(-1!=t.title.indexOf("(回答内容")){var a=t.title.indexOf("(回答内容");t.title=t.title.slice(0,a)}})),t.chatList=i.data.data;var a=i.data.total;a%t.page_count==0?t.pageTotal=a/t.page_count:t.pageTotal=parseInt(a/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(i.msg)})).catch((function(i){t.$api.msg("获取对话信息失败")})):this.active<13&&(0,s.drawList)(a).then((function(i){if(2e4==i.code){i.data.data.map((function(t,i){if(-1!=t.title.indexOf("(回答内容")){var a=t.title.indexOf("(回答内容");t.title=t.title.slice(0,a)}})),t.chatList=i.data.data;var a=i.data.total;a%t.page_count==0?t.pageTotal=a/t.page_count:t.pageTotal=parseInt(a/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(i.msg)})).catch((function(i){t.$api.msg("获取对话信息失败")}))}},onReachBottom:function(){var t=this;if(1!=this.loadingType){this.page_no++;var i={scenario_type:"chat",page_size:this.page_count,title:this.searchValue,page:this.page_no};(0,s.chatList)(i).then((function(i){if(2e4==i.code){var a=i.data.total;if(0==a)return;var e=i.data.data,n=t.chatList;e.forEach((function(t){n.push(t)})),a%t.page_count==0?t.pageTotal=a/t.page_count:t.pageTotal=parseInt(a/t.page_count)+1,t.pageTotal<=t.page_no&&(t.loadingType=1)}else t.$api.msg(i.msg)})).catch((function(i){t.$api.msg("获取对话信息失败")}))}},checkDetail:function(t){var i=this;uni.showModal({content:"是否延续当前对话",success:function(a){a.confirm?0==i.active_top?(uni.setStorageSync("page_code",t),uni.switchTab({url:"/pages/index/index"})):(uni.setStorageSync("history_code",JSON.stringify({code:t,type:i.active})),uni.setStorageSync("tabStatus",i.active),uni.switchTab({url:"/pages/painting/painting"})):a.cancel&&console.log("您点击了取消")}})},delPhoto:function(t){var i=this;uni.showModal({title:"提示",content:"确定删除该记录吗？",success:function(a){a.confirm&&i.delCont(t)}})},delCont:function(t){var i=this,a=[];a.push(t);var e={session_codes:JSON.stringify(a)};(0,c.del_session)(e).then((function(t){2e4==t.code?(i.$api.msg("删除成功"),i.getChatList()):i.$api.msg(t.msg)}))},getImgUrl:function(i){return t.baseImg+"/"+i}}};i.default=o}).call(this,a("c8ba"))},fbd2:function(t,i,a){"use strict";var e=a("3957"),n=a.n(e);n.a}}]);