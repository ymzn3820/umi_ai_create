(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-history-history"],{7245:function(t,a,e){"use strict";(function(t){e("7a82"),Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("d81d"),e("c975"),e("fb6a"),e("e25e"),e("d3b7"),e("159b"),e("14d9"),e("e9c4");var i=e("2d63"),n={data:function(){return{active_top:0,active:4,searchValue:"",loadingType:0,page_no:1,page_count:10,chatList:[],pageTotal:0,backImg:t.baseImg+"/xcx/8a3fda0a-67b9-4545-a297-2b516055f560.jpg"}},components:{},onLoad:function(t){console.log(t),void 0!=t.active&&(this.active_top=t.active,0==this.active_top?this.active=4:this.active=13,this.page_no=1,this.loadingType=0,this.searchValue="",this.getChatList())},onShow:function(){this.getChatList()},methods:{version_top:function(t){this.active_top=t,0==this.active_top?this.active=4:this.active=13,this.page_no=1,this.loadingType=0,this.searchValue="",this.getChatList()},version:function(t){this.active=t,this.page_no=1,this.loadingType=0,this.searchValue="",this.getChatList()},search:function(){this.page_no=1,this.loadingType=0,this.getChatList()},getChatList:function(){var t=this,a={chat_type:this.active,title:this.searchValue,page_size:this.page_count,page:this.page_no};0==this.active_top?(0,i.chatList)(a).then((function(a){if(2e4==a.code){a.data.data.map((function(t,a){if(-1!=t.title.indexOf("(回答内容")){var e=t.title.indexOf("(回答内容");t.title=t.title.slice(0,e)}})),t.chatList=a.data.data;var e=a.data.total;e%t.page_count==0?t.pageTotal=e/t.page_count:t.pageTotal=parseInt(e/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(a.msg)})).catch((function(a){t.$api.msg("获取对话信息失败")})):this.active<13?(0,i.drawList)(a).then((function(a){if(2e4==a.code){a.data.data.map((function(t,a){if(-1!=t.title.indexOf("(回答内容")){var e=t.title.indexOf("(回答内容");t.title=t.title.slice(0,e)}})),t.chatList=a.data.data;var e=a.data.total;e%t.page_count==0?t.pageTotal=e/t.page_count:t.pageTotal=parseInt(e/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(a.msg)})).catch((function(a){t.$api.msg("获取对话信息失败")})):(0,i.getImgList)(a).then((function(a){if(2e4==a.code){a.data.data.map((function(t,a){if(-1!=t.title.indexOf("(回答内容")){var e=t.title.indexOf("(回答内容");t.title=t.title.slice(0,e)}})),t.chatList=a.data.data;var e=a.data.total;e%t.page_count==0?t.pageTotal=e/t.page_count:t.pageTotal=parseInt(e/t.page_count)+1,1==t.pageTotal&&(t.loadingType=1)}else t.$api.msg(a.msg)})).catch((function(a){t.$api.msg("获取对话信息失败")}))},onReachBottom:function(){var t=this;if(1!=this.loadingType){this.page_no++;var a={chat_type:this.active,title:this.searchValue,page_size:this.page_count,page:this.page_no};0==this.active_top?(0,i.chatList)(a).then((function(a){if(2e4==a.code){var e=a.data.total;if(0==e)return;var i=a.data.data,n=t.chatList;i.forEach((function(t){if(-1!=t.title.indexOf("(回答内容")){var a=t.title.indexOf("(回答内容");t.title=t.title.slice(0,a)}n.push(t)})),e%t.page_count==0?t.pageTotal=e/t.page_count:t.pageTotal=parseInt(e/t.page_count)+1,console.log(t.pageTotal,158),t.pageTotal<=t.page_no&&(t.loadingType=1)}else t.$api.msg(a.msg)})).catch((function(a){t.$api.msg("获取对话信息失败")})):this.active<13?(0,i.drawList)(a).then((function(a){if(2e4==a.code){var e=a.data.total;if(0==e)return;var i=a.data.data,n=t.chatList;i.forEach((function(t){if(-1!=t.title.indexOf("(回答内容")){var a=t.title.indexOf("(回答内容");t.title=t.title.slice(0,a)}n.push(t)})),e%t.page_count==0?t.pageTotal=e/t.page_count:t.pageTotal=parseInt(e/t.page_count)+1,console.log(t.pageTotal,158),t.pageTotal<=t.page_no&&(t.loadingType=1)}else t.$api.msg(a.msg)})).catch((function(a){t.$api.msg("获取对话信息失败")})):(0,i.getImgList)(a).then((function(a){if(2e4==a.code){var e=a.data.total;if(0==e)return;var i=a.data.data,n=t.chatList;i.forEach((function(t){if(-1!=t.title.indexOf("(回答内容")){var a=t.title.indexOf("(回答内容");t.title=t.title.slice(0,a)}n.push(t)})),e%t.page_count==0?t.pageTotal=e/t.page_count:t.pageTotal=parseInt(e/t.page_count)+1,console.log(t.pageTotal,158),t.pageTotal<=t.page_no&&(t.loadingType=1)}else t.$api.msg(a.msg)})).catch((function(a){t.$api.msg("获取对话信息失败")}))}},checkDetail:function(t){var a=this;uni.showModal({content:"是否延续当前对话",success:function(e){e.confirm?(console.log(a.active,"code"),uni.setStorageSync("history_code",JSON.stringify({code:t,type:a.active})),uni.setStorageSync("tabStatus",a.active),4==a.active||5==a.active||7==a.active||8==a.active||10==a.active||12==a.active?uni.switchTab({url:"/pages/chat/chat"}):uni.switchTab({url:"/pages/draw/draw"})):e.cancel&&console.log("您点击了取消")}})},getImgUrl:function(a){return t.baseImg+"/"+a}}};a.default=n}).call(this,e("c8ba"))},"93a0":function(t,a,e){"use strict";e.r(a);var i=e("ef7d"),n=e("d0de");for(var s in n)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(s);e("e3db2");var c=e("f0c5"),o=Object(c["a"])(n["default"],i["b"],i["c"],!1,null,"6a75be4f",null,!1,i["a"],void 0);a["default"]=o.exports},ad25:function(t,a,e){var i=e("24fb");a=i(!1),a.push([t.i,"uni-page-body[data-v-6a75be4f]{background:#f6f8fb}body.?%PAGE?%[data-v-6a75be4f]{background:#f6f8fb}.top_cont[data-v-6a75be4f]{width:100%;height:%?142?%;background:#fff;position:fixed;top:0;z-index:10}.search_cont[data-v-6a75be4f]{width:calc(100%);display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0 %?25?%;background:#fff}.search[data-v-6a75be4f]{width:calc(100% - %?64?%);height:%?72?%;background:#f6f6f6;border-radius:%?100?%;display:flex;align-items:center;justify-content:center;padding:0 %?32?%;margin-bottom:%?20?%}.search_input[data-v-6a75be4f]{flex:1}.search_img[data-v-6a75be4f]{width:%?36?%;height:%?36?%}.cont_tabs[data-v-6a75be4f]{width:100%;display:flex}.tabs_l[data-v-6a75be4f]{width:50%;display:flex;align-items:center;justify-content:center}.active_tabs_top[data-v-6a75be4f]{font-style:normal;font-weight:500;font-size:%?28?%;line-height:%?50?%;color:#1f64ff;border-bottom:%?5?% solid #1f64ff}.tabs_top[data-v-6a75be4f]{font-style:normal;font-weight:500;font-size:%?28?%;line-height:%?50?%;color:#999}.list_ul[data-v-6a75be4f]{padding:%?25?% %?10?%;margin-bottom:%?30?%;width:calc(100% - %?20?%)}.ul_style[data-v-6a75be4f]{display:flex;flex-direction:column;padding:0 %?15?%;width:108%}.li_style[data-v-6a75be4f]{display:flex;align-items:center;background:#fff;\n  /* border: 1px solid #C0C4CC; */box-shadow:%?0?% %?0?% %?10?% rgba(0,0,0,.14);border-radius:%?15?%;padding:%?20?%;margin-bottom:%?25?%;width:calc(100% - %?40?%)}.li_top[data-v-6a75be4f]{display:flex;align-items:center;justify-content:space-between;margin-bottom:%?18?%}.top_l[data-v-6a75be4f]{ont-weight:400;font-size:%?28?%;line-height:%?42?%;color:#333;width:%?300?%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.top_r[data-v-6a75be4f]{ont-weight:400;font-size:%?24?%;line-height:%?30?%;color:#6e7480}.li_btn[data-v-6a75be4f]{font-weight:400;font-size:%?24?%;line-height:%?35?%;color:#6e7480}.on_order[data-v-6a75be4f]{display:flex;align-items:center;justify-content:center;height:100vh;width:100vw}.order_img[data-v-6a75be4f]{width:%?450?%;height:%?450?%}.on_order_list[data-v-6a75be4f]{display:flex;align-items:center;justify-content:center;font-size:%?28?%;height:%?100?%;line-height:%?100?%;width:100vw;color:#c0c4cc}.chat_type[data-v-6a75be4f]{display:flex;align-items:center;width:100%;padding:%?15?% 0;flex-wrap:wrap;flex:1}.chat_type .tabs[data-v-6a75be4f]{width:22%;background:#f8f8f9;border-radius:%?6?%;padding:%?16?% 0;margin:%?10?% 1.5%;font-style:normal;font-weight:500;font-size:%?28?%;line-height:150%;color:#333;display:flex;align-items:center;justify-content:center}.chat_type .active_tabs[data-v-6a75be4f]{width:22%;background:rgba(31,100,255,.15);border-radius:%?6?%;padding:%?16?% 0;margin:%?10?% 1.5%;font-style:normal;font-weight:500;font-size:%?28?%;line-height:150%;color:#1f64ff;display:flex;align-items:center;justify-content:center}.li_left[data-v-6a75be4f]{padding-right:%?10?%}.li_left .li_img[data-v-6a75be4f]{width:%?110?%;height:%?110?%;border-radius:50%}.li_right[data-v-6a75be4f]{flex:1}",""]),t.exports=a},b286:function(t,a,e){var i=e("ad25");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("4f06").default;n("098d68eb",i,!0,{sourceMap:!1,shadowMode:!1})},c02e:function(t,a){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJiSURBVHgB7ZfRUeMwEIbXqSBXwfkquFwFUSoAKrhcBQcV4FRAqIDQAVQQ5yHPhA5cQnjNQ8K/sAqLEqyV44FhJv+MJrJiyd9Kq9WK6Khvpizl5el06jqdzslms3F4zFG68tcCpUL7PX7LwWBQUUOZgAAyzLLsUiAsmgBu1AQsi4DkALlB1VG6lgI1TunUoXqYaQDDH7lGGaD8cM5lXFD/g/IP/5fq3S76X81ms0tKUBaByX0bg+CngMVLqhH7mczqti+ei36/P6KmQGVZ6pnhWTkDSElGAaorUKe+jWfVMka2Z7ChDOYHYpg7aqDAsArL+yvWZ8eHZDd5mFFTGOnPfuWXOGdjY33eAfH609vaVygTOkC87cX3XgRj/8b6hDN0quoHBTglve0d+xdZgWDBb1+HZbfUgmRXlqrJkRUI6qn6gloSjHtUjzklAG2nMxZvErXc9w0L0JcrBKp8ZT6f/6SWpH2TIq4QAm1fXq1WZ9SetG9WZAWC8818HVadUAsKYxt8M2mGJqruZLCDpCM/vd/+cSDeWTr+8JkWC2R1Qurxn1Tc4aMo1mffLitInT+c01ADwZAeAMYK5toS+XeA5PzRlgxxaj9wjkRG8cxIPuXFBhaWvh+msAAogvWv8DxZr9e3H1kqyRn3cTsfMiZpsZw6hPIq0b4A3JN8jGMWH8yhvy11mwUqeuvYl5Ja5FNelHNtVAzKfC+TTJLzGVfzmt+lY72s4UzXQSVdFGVwXoKeFL8cFcqiLuhZoZKBDlEIhdm8CO9tn3ra4+NFEFLy8J1PTz8E6oJej6mkW+1RR1n0DFMuJYmylwERAAAAAElFTkSuQmCC"},d0de:function(t,a,e){"use strict";e.r(a);var i=e("7245"),n=e.n(i);for(var s in i)["default"].indexOf(s)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(s);a["default"]=n.a},e3db2:function(t,a,e){"use strict";var i=e("b286"),n=e.n(i);n.a},ef7d:function(t,a,e){"use strict";e.d(a,"b",(function(){return i})),e.d(a,"c",(function(){return n})),e.d(a,"a",(function(){}));var i=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("v-uni-view",{staticClass:"top_cont"},[i("v-uni-view",{staticClass:"search_cont"},[i("v-uni-view",{staticClass:"search"},[i("v-uni-image",{staticClass:"search_img",attrs:{src:e("c02e")}}),i("v-uni-input",{staticClass:"search_input",attrs:{placeholder:"请输入搜索内容",type:"text"},on:{input:function(a){arguments[0]=a=t.$handleEvent(a),t.search.apply(void 0,arguments)}},model:{value:t.searchValue,callback:function(a){t.searchValue=a},expression:"searchValue"}})],1),i("v-uni-view",{staticClass:"cont_tabs"},[i("v-uni-view",{staticClass:"tabs_l"},[i("v-uni-view",{class:[0==t.active_top?"active_tabs_top":"tabs_top"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version_top(0)}}},[t._v("AI对话")])],1),i("v-uni-view",{staticClass:"tabs_l"},[i("v-uni-view",{class:[1==t.active_top?"active_tabs_top":"tabs_top"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version_top(1)}}},[t._v("AI绘画")])],1)],1),0==t.active_top?i("v-uni-view",{staticClass:"chat_type"},[i("v-uni-view",{class:[4==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(4)}}},[t._v("文心一言")]),i("v-uni-view",{class:[8==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(8)}}},[t._v("ChatGLM")]),i("v-uni-view",{class:[5==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(5)}}},[t._v("讯飞星火")]),i("v-uni-view",{class:[10==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(10)}}},[t._v("通义千问")]),i("v-uni-view",{class:[12==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(12)}}},[t._v("360智脑")])],1):t._e(),1==t.active_top?i("v-uni-view",{staticClass:"chat_type"},[i("v-uni-view",{class:[13==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(13)}}},[t._v("通义万相")]),i("v-uni-view",{class:[3==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(3)}}},[t._v("百度绘画")]),i("v-uni-view",{class:[14==t.active?"active_tabs":"tabs"],on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.version(14)}}},[t._v("火山引擎")])],1):t._e()],1)],1),i("v-uni-view",{staticClass:"chat_cont"},[t.chatList.length>0?i("v-uni-scroll-view",{staticClass:"list_ul",style:[{marginTop:1==t.active_top?"268rpx":"340rpx"}],attrs:{"scroll-y":"true"}},t._l(t.chatList,(function(a,e){return i("v-uni-view",{key:e,staticClass:"ul_style",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.checkDetail(a.chat_type<13?a.session_code:a.image_code)}}},[i("v-uni-view",{staticClass:"li_style"},[1==t.active_top?i("v-uni-view",{staticClass:"li_left"},[i("v-uni-image",{staticClass:"li_img",attrs:{src:t.getImgUrl(a.chat_type<13?a.content:a.result_image)}})],1):t._e(),i("v-uni-view",{staticClass:"li_right"},[i("v-uni-view",{staticClass:"li_top"},[i("v-uni-text",{staticClass:"top_l"},[t._v(t._s(a.title))]),4==a.chat_type&&"completions_pro"===a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("文心一言-4")]):t._e(),4==a.chat_type&&"completions"===a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("文心一言")]):t._e(),4==a.chat_type&&"eb-instant"===a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("文心一言-Turbo")]):t._e(),4==a.chat_type&&""===a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("文心一言")]):t._e(),5==a.chat_type&&"v3.1"==a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("讯飞星火-v3.1")]):t._e(),5==a.chat_type&&"v2.1"==a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("讯飞星火-v2.1")]):t._e(),5==a.chat_type&&"v1.1"==a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("讯飞星火-v1.1")]):t._e(),5==a.chat_type&&""==a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("讯飞星火-v1.1")]):t._e(),10==a.chat_type&&"qwen-plus"==a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("通义千问-plus")]):t._e(),10==a.chat_type&&"qwen-turbo"==a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("通义千问-turbo")]):t._e(),10==a.chat_type&&""==a.model?i("v-uni-text",{staticClass:"top_r"},[t._v("通义千问")]):t._e(),8==a.chat_type?i("v-uni-text",{staticClass:"top_r"},[t._v("ChatGLM")]):t._e(),12==a.chat_type?i("v-uni-text",{staticClass:"top_r"},[t._v("360智脑")]):t._e(),6==a.chat_type?i("v-uni-text",{staticClass:"top_r"},[t._v("Midjourney")]):t._e(),9==a.chat_type?i("v-uni-text",{staticClass:"top_r"},[t._v("Stable Diffusion")]):t._e(),3==a.chat_type?i("v-uni-text",{staticClass:"top_r"},[t._v("百度绘画")]):t._e(),13==a.chat_type?i("v-uni-text",{staticClass:"top_r"},[t._v("通义万相")]):t._e(),14==a.chat_type?i("v-uni-text",{staticClass:"top_r"},[t._v("火山引擎")]):t._e()],1),i("v-uni-view",{staticClass:"li_btn"},[t._v("提问时间："+t._s(a.create_time))])],1)],1)],1)})),1):i("v-uni-view",{staticClass:"on_order"},[i("v-uni-image",{staticClass:"order_img",attrs:{src:t.backImg}})],1),1==t.loadingType?i("v-uni-view",{staticClass:"on_order_list"},[t._v("没有更多内容了!")]):t._e()],1)],1)},n=[]}}]);